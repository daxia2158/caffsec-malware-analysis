u_short in_cksum(u_int16_t* addr, int len)
{// addr = 0x0804C17F
    int nleft;
    u_int16_t* w;
    u_int32_t sum;
    u_int16_t answer;
    short _v8;
    short unsigned int* _v12;
    int _v16;
    short _v18;
    _unknown_ r6;

    _v16 = len;
    _v12 = addr;
    _v8 = 0;
    _v18 = 0;
    while(_v16 > 1) {
        _v8 = _v8 + ( *_v12 & 65535 & 65535);
        _v12 =  &(_v12[1]);
        _v16 = _v16 - 2;
    }
}